/* Категорії: селект мобільний, вкладки десктоп */
.tabs-select-wrap{display:block;margin:.5rem .75rem}

#tabs-select,#subtabs-select,#brands-select{
  width:100%;padding:.6rem .8rem;border:1px solid var(--muted);
  border-radius:8px;background:var(--white);color:var(--text);font-weight:600
}

.tabs{display:none}

/* Вкладки */
.tabs::-webkit-scrollbar{height:6px}
.tabs::-webkit-scrollbar-thumb{background:var(--muted);border-radius:3px}

.tab-btn{
  display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border:none;
  background:transparent;cursor:pointer;color:var(--text);border-radius:8px;
  transition:background .2s ease, transform .15s ease;flex:0 0 auto
}
.tab-btn:hover{background:#f1f3f5}
.tab-btn:active{transform:scale(.98)}

.tab-btn img{width:28px;height:28px;object-fit:cover;border-radius:6px}

.tab-btn[aria-selected="true"]{color:#fff;background:var(--brand)}
.tab-btn:focus-visible{
  outline:3px solid color-mix(in srgb,var(--brand) 60%, black 0%);outline-offset:2px
}

/* Підкатегорії */
.subfilters,.brandfilters{padding:.5rem .75rem}
.subtabs,.brand-chips{display:none}

/* дрібні покращення для сітки/мети на ≥576px */
@media (min-width:576px){
  .products-grid{grid-template-columns:repeat(2,1fr)}
  .product-meta{flex-direction:column}
  .product-title{text-align:center}
}

@media (min-width:768px){
  .subtabs{
    display:flex;gap:.5rem;align-items:center;border-bottom:1px dashed var(--muted);
    overflow-x:auto;padding:.25rem 0 .5rem 0
  }
  .brand-chips{
    display:flex;gap:.5rem;align-items:center;overflow-x:auto;padding:.25rem 0 .5rem 0
  }
  .subtabs-select-wrap,.brands-select-wrap{display:none}

  .tabs{
    display:flex;gap:.5rem;align-items:center;border-bottom:1px solid var(--muted);
    overflow-x:auto;padding:.5rem .75rem
  }
  .tabs-select-wrap{display:none}

  .m-head{grid-template-columns:300px 1fr}
  .m-head img{max-height:50vh}

  .product-meta{flex-direction:row}
  .product-title{text-align:left}
}

/* Чіпи */
.chip-btn,.brand-chip{
  display:inline-flex;align-items:center;gap:.4rem;padding:.4rem .6rem;
  border:1px solid var(--muted);background:#fff;color:var(--text);
  border-radius:999px;cursor:pointer;white-space:nowrap;flex:0 0 auto;
  transition:background .2s ease, border-color .2s ease
}
.chip-btn:hover,.brand-chip:hover{background:#f6f8f9}
.chip-btn[aria-pressed="true"],.brand-chip[aria-pressed="true"]{
  background:var(--brand);color:#fff;border-color:var(--brand)
}

/* Панелі */
.tab-panel{padding:.75rem 0}
.tab-panel[hidden]{display:none}

/* Інфоблок */
.panel-info{max-width:880px;margin:0 auto 1rem auto;text-align:center}
.panel-info h3{margin:0 0 .25rem 0}
.panel-info p{margin:0 auto;max-width:60ch}

/* Сітка товарів */
.products-grid{display:grid;gap:1rem}
@media (min-width:1200px){.products-grid{grid-template-columns:repeat(3,1fr)}}

/* Картка */
.product-card{
  border:1px solid var(--muted);border-radius:10px;background:#fff;overflow:hidden;
  display:flex;flex-direction:column;transition:transform .18s ease, box-shadow .18s ease;
  will-change:transform
}
@media (hover:hover){
  .product-card:hover{transform:translateY(-3px);box-shadow:0 10px 24px rgba(0,0,0,.08)}
  .product-card:focus-within{box-shadow:0 0 0 3px color-mix(in srgb,var(--brand) 25%, transparent)}
}

.product-media{width:100%;aspect-ratio:4/3;object-fit:cover}
.product-body{padding:.75rem}
.product-title{font-weight:600;margin:0 0 .25rem 0}

/* meta: ціна + кількість + кнопки */
.product-meta{
  display:flex;justify-content:space-between;align-items:center;gap:.5rem
}
.product-price{font-weight:700;color:#1a1a1a}
.product-stock{font-weight:600;font-size:.95rem}
.product-stock.in{color:#1b7a2a}
.product-stock.out{color:#b00020}

.product-cta{display:flex;gap:.5rem}
.product-cta .btn{min-width:auto;padding:.5rem .75rem}

/* Бейджі */
.badge-row{display:flex;gap:.4rem;flex-wrap:wrap;margin-bottom:.4rem}
.badge{
  display:inline-block;font-size:.8rem;background:#e8f6ee;color:var(--brand);
  padding:.15rem .5rem;border-radius:999px;border:1px solid var(--brand)
}
.badge--sub{background:#eef7ff;color:#0b63c5;border-color:#0b63c5}

/* Modal */
.modal-backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,.45);opacity:0;pointer-events:none;
  transition:opacity .2s;z-index:9999
}
.modal-backdrop.open{opacity:1;pointer-events:auto}

.modal{
  position:fixed;inset:0;display:grid;place-items:center;opacity:0;pointer-events:none;
  transition:opacity .2s;padding:1rem;z-index:10000
}
.modal.open{opacity:1;pointer-events:auto}

.modal-content{
  position:relative;max-width:720px;width:100%;max-height:90vh;overflow:auto;
  background:#fff;border-radius:12px;padding:1rem;border:1px solid var(--muted)
}
.modal-close{
  position:absolute;right:12px;top:10px;width:32px;height:32px;display:grid;place-items:center;
  font-size:22px;line-height:1;background:#f1f3f5;border:1px solid var(--muted);
  border-radius:6px;cursor:pointer;color:#333
}

.m-head{display:grid;gap:.75rem;align-items:start}
.m-head img{width:100%;height:auto;border-radius:8px;max-height:40vh;object-fit:cover}
.m-head h3{margin:0}

.modal-meta{
  display:flex;flex-wrap:wrap;gap:.5rem 1rem;margin:.5rem 0;align-items:center
}
.m-price{font-weight:700}
.m-badge{font-size:.9rem;background:#f1f3f5;padding:.2rem .5rem;border-radius:6px}
.stock.in{color:#1b7a2a;font-weight:600}
.stock.out{color:#b00020;font-weight:600}
.m-desc,.m-long{margin:.5rem 0}
.m-actions{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.75rem}

/* Кількість + додати в кошик */
.qty-wrap{
  display:inline-flex;align-items:center;gap:.25rem;border:1px solid var(--muted);
  border-radius:8px;padding:.25rem;background:#fff
}
.qty-btn{
  width:32px;height:32px;display:grid;place-items:center;border:1px solid var(--muted);
  background:#f8f9fa;border-radius:6px;cursor:pointer;transition:background .15s ease
}
.qty-btn:hover{background:#eef1f3}
.qty-btn:disabled{opacity:.5;cursor:not-allowed}
.qty-input{
  width:64px;text-align:center;border:none;outline:none;font-weight:700
}

/* Менше анімацій для користувачів з reduce motion */
@media (prefers-reduced-motion: reduce){
  .tab-btn,.product-card,.modal,.modal-backdrop,.qty-btn{transition:none}
}
